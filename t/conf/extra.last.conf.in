# this file will be Include-d by @ServerRoot@/httpd.conf

# @ServerRoot@ = t directory

LoadModule apreq_module /usr/lib/apache2/modules/mod_apreq2.so

# where Apache2::Controller and the test application libs can be found
PerlSwitches -I@ServerRoot@/lib

PerlModule Apache::DBI
PerlModule Apache2::Reload
PerlModule Apache2::Request
PerlModule Apache2::RequestRec
PerlModule Apache2::Upload
PerlModule Apache2::RequestUtil
PerlModule Apache2::Cookie
PerlModule Apache2::RequestIO
PerlModule Apache2::Module

PerlLoadModule Apache2::Controller::Directives
A2CRenderTemplateDir @ServerRoot@/templates

# instead of using this... comment the PerlSetVar out
#PerlSetVar A2CRenderTemplateDir @ServerRoot@/templates

#PerlLoadModule TestApp::Simple::Dispatch
PerlModule TestApp::Simple::Dispatch
PerlModule TestApp::Render::Dispatch

# preload the module
<Location /simple>
    SetHandler modperl
    PerlInitHandler TestApp::Simple::Dispatch
</Location>

<Location /render>
    SetHandler modperl
    PerlInitHandler TestApp::Render::Dispatch
</Location>

PerlModule TestApp::Session::Session
<Location /session>
    SetHandler modperl
    PerlInitHandler TestApp::Session::Dispatch

    # in theory my testapp get_options should detect system-appropriate tempdirs
    PerlSetVar  A2CSessionCookieName    testapp_sessid
    PerlHeaderParserHandler             TestApp::Session::Session
</Location>


